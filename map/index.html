<!doctype html>
<html lang="en">
  <head>
    <title>–î–≤–∏–∂–µ–Ω–∏—è</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.13.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="/map/attention.css">
  </head>
  <body>
    <template id="template-item">
        <div id="{{movement.id}}" data-id="{{movement.id}}" data-type="{{movement.data}}" data-number="{{movement.index}}" data-deal="{{movement.deal}}" data-itemtype="{{movement.type}}" data-to="{{movement.to}}" data-from="{{movement.from}}" onclick="appendRoute(this)" class="item alert alert-custom input-group mb-3 item-active orig">
            <div class="item-data" style="width:100%">
                <span class="badge badge-warning item-type">{{movement.type}}</span>
                <span class="badge item-date">{{movement.item_date}}</span>
            </div>
            <table style="font-size:10px">
                <tr>
                    <td class="attention-content-title item-index">–ù–æ–º–µ—Ä</td>
                    <td>{{movement.index}}</td>
                </tr>
                <tr>
                    <td class="attention-content-title item-deal">–ö –∑–∞–∫–∞–∑—É</td>
                    <td>{{movement.deal}}</td>
                </tr>
                <tr>
                    <td class="attention-content-title item-delivery">–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞—è</td>
                    <td>{{movement.provider}}</td>
                </tr>
                <tr>
                    <td class="attention-content-title item-from">–û—Ç–∫—É–¥–∞</td>
                    <td>{{movement.from}}</td>
                </tr>
                <tr>
                    <td class="attention-content-title item-to">–ö—É–¥–∞</td>
                    <td>{{movement.to}}</td>
                </tr>
                <tr>
                    <td class="attention-content-title item-info">–ò–Ω—Ñ.</td>
                    <td>{{movement.info}}</td>
                </tr>
                <tr>
                    <td class="attention-content-title item-info2">–î–æ–ø –∏–Ω—Ñ.</td>
                    <td>{{movement.info2}}</td>
                </tr>
                <tr>
                    <td class="attention-content-title item-store">–°–∫–ª–∞–¥</td>
                    <td>{{movement.store}}</td>
                </tr>
                <tr>
                    <td class="attention-content-title item-manager">–ú–µ–Ω–µ–¥–∂–µ—Ä</td>
                    <td>{{movement.manager}}</td>
                </tr>
                <tr>
                    <td class="attention-content-title item-client">–ö–ª–∏–µ–Ω—Ç</td>
                    <td>{{movement.client}}</td>
                </tr>
            </table>
            <div class="alert alert-danger attention-items" style="text-align:left; padding: 2px 4px;">{{movement.items}}</div>
        </div> 
    </template>
    <template id="template-route">
        <li class="route alert alert-custom input-group mb-3 item-active" data-base="{{movement.base}}"  id="{{movement.id}}_temp" data-id="{{movement.id}}" data-type="{{movement.data}}" data-number="{{movement.index}}" data-deal="{{movement.deal}}" data-itemtype="{{movement.type}}" data-to="{{movement.to}}" data-from="{{movement.from}}">
            <div class="remove" onclick="removeRoute(this)"></div>
            <div class="item-data" style="width:100%">
                <span class="badge badge-warning item-type">{{movement.type}}</span>
                <span class="badge item-date">{{movement.item_date}}</span>
            </div>
            <table style="font-size:10px">
                <tr>
                    <td class="attention-content-title item-index">–ù–æ–º–µ—Ä</td>
                    <td>{{movement.index}}</td>
                </tr>
                <tr>
                    <td class="attention-content-title item-deal">–ö –∑–∞–∫–∞–∑—É</td>
                    <td>{{movement.deal}}</td>
                </tr>
                <tr>
                    <td class="attention-content-title item-delivery">–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞—è</td>
                    <td>{{movement.provider}}</td>
                </tr>
                <tr>
                    <td class="attention-content-title item-from">–û—Ç–∫—É–¥–∞</td>
                    <td>{{movement.from}}</td>
                </tr>
                <tr>
                    <td class="attention-content-title item-to">–ö—É–¥–∞</td>
                    <td>{{movement.to}}</td>
                </tr>
                <tr>
                    <td class="attention-content-title item-info">–ò–Ω—Ñ.</td>
                    <td>{{movement.info}}</td>
                </tr>
                <tr>
                    <td class="attention-content-title item-info2">–î–æ–ø –∏–Ω—Ñ.</td>
                    <td>{{movement.info2}}</td>
                </tr>
                <tr>
                    <td class="attention-content-title item-store">–°–∫–ª–∞–¥</td>
                    <td>{{movement.store}}</td>
                </tr>
                <tr>
                    <td class="attention-content-title item-manager">–ú–µ–Ω–µ–¥–∂–µ—Ä</td>
                    <td>{{movement.manager}}</td>
                </tr>
                <tr>
                    <td class="attention-content-title item-client">–ö–ª–∏–µ–Ω—Ç</td>
                    <td>{{movement.client}}</td>
                </tr>
            </table>
            <div class="alert alert-danger attention-items" style="text-align:left; padding: 2px 4px;">{{movement.items}}</div>
        </li<li class="route alert alert-custom input-group mb-3 item-active" > 
    </template>
    <template id="template-task">
        <li class="route task alert alert-custom input-group mb-3 item-active" style="font-size: 10px;">
            <table>
                <tr>
                    <td><span class="badge badge-warning item-type">–î–æ–ø. –∑–∞–¥–∞–Ω–∏–µ</span></td>
                </tr>
                <tr>
                    <td class="font-weight-bold">–ê–¥—Ä–µ—Å –∑–∞–¥–∞—á–∏</td>
                    <td>{{movement.address}}</td>
                </tr>
                <tr>
                    <td class="font-weight-bold">–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏</td>
                    <td>{{movement.description}}</td>
                </tr>
            </table>
        </li>
    </template>
    <template id="temp"></template>

    <div class="container-fluid">
        <!-- <div class="date-selector"></div> -->
        <div class="row">
            <div class="col-md-3 attention-col main">
                <!-- –í—ã–±–æ—Ä –±—Ä–æ–Ω—å/–¥–≤–∏–∂–µ–Ω–∏—è, —Å–º–µ–Ω–∞ –¥–∞—Ç—ã –∏ –≤—ã–±–æ—Ä –∫—É—Ä—å–µ—Ä–∞  -->
                <div class="btn-group" style="width: 100%;">
                    <button type="button" class="btn btn-dark" onclick="$('#cureers').show();$('#managers').hide();loadItems()">–î–≤–∏–∂–µ–Ω–∏—è</button>
                    <button type="button" class="btn btn-secondary" onclick="itemsLoadReserved()">–ë—Ä–æ–Ω—å</button>
                    <button type="button" class="btn btn-secondary close" onclick="$('#datepicker').val('today');loadItems()"><span aria-hidden="true">üîÉ</span></button>
                    <input type="hidden" id="datepicker" value="today" onchange="loadItems()">
                </div>
                <div class="input-group" style="margin-top: 4px;">
                    <select id="cureers" name="cureer" class="custom-select" onchange="$('.cureer').text($('select').val()); if($('select').val()!='–ù–µ –∑–∞–∫—Ä–µ–ø–ª—ë–Ω'){$(this).css('background-color','#cdfcb9')}else{$(this).css('background-color','#fff')};loadItems();">
                        <option default value="–ù–µ –∑–∞–∫—Ä–µ–ø–ª—ë–Ω" style="visibility: hidden;">–í—ã–±—Ä–∞—Ç—å –∫—É—Ä—å–µ—Ä–∞</option>
                    </select>
                </div>
            </div>
                <div class="col-md-3 attention-col">
                    <ul id="sortable">
                        
                    </ul>
                    <div class="btn-group" style="width: 100%;">
                        <button class="btn btn-success btn-lg" style="width: 100%; margin-top: 2px;" onclick="window.setTmpMovements()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                        <button class="btn btn-danger btn-lg" style="width: 100%; margin-top: 2px;" onclick="$('#confirmDialog').dialog({'width':'730px'})">–£—Ç–≤–µ—Ä–¥–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç</button>
                    </div>
                    <div class="btn-group" style="width: 100%;">
                        <button class="btn btn-success" style="width: 100%; margin-top: 2px;" data-toggle="modal" data-target="#exampleModalCenter">–ó–∞–¥–∞—á–∞ ‚ûï</button>
                        <button class="btn btn-success btn-lg" style="width: 100%; margin-top: 2px;" onclick="window.printRoute()">–†–∞—Å–ø–µ—á–∞—Ç–∞—Ç—å</button>
                        <button class="btn btn-success btn-lg" style="width: 100%; margin-top: 2px;" onclick="createTireLoadList()">–ö –∑–∞–≥—Ä—É–∑–∫–µ</button>
                    </div>            
            </div>
            <div id="dialog" title="–í–ù–ò–ú–ê–ù–ò–ï!" style="display: none;">
                <h4 class="alert alert-warning">–î–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–±—Ä–∞—Ç—å –∫—É—Ä—å–µ—Ä–∞!</h4>
            </div>

            <div id="confirmDialog" title="–í–ù–ò–ú–ê–ù–ò–ï!" style="display: none;">
                <h4 class="alert alert-success"><center>–£—Ç–≤–µ—Ä–¥–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç?</center></h4>
                <div class="btn-group" style="width: 100%;">
                    <button class="btn btn-success" onclick="setCureer();$('#confirmDialog').dialog('close');$('#sortable').html('')">–î–∞</button>
                    <button class="btn btn-danger" onclick="$('#confirmDialog').dialog('close')">–ù–µ—Ç</button>
                </div>
            </div>

            <div id="saveDialog" title="–í–ù–ò–ú–ê–ù–ò–ï!" style="display: none;">
                <h4 class="alert alert-success"><center>–ú–∞—Ä—à—Ä—É—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω!</center></h4>
            </div>
            <div class="task-create">
                <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h5 class="modal-title" id="exampleModalLongTitle">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É</h5>
                          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <div class="modal-body">
                            <label class="font-weight-bold" for="address">–ê–¥—Ä–µ—Å –∑–∞–¥–∞—á–∏</label>
                            <br>
                            <div id="sa_poluch_dop" style="position: relative;">
                                <input list="address_list" class="task-address" style="width: 100%; border:none; background-color: #ECECEC; resize:none; border-radius:4px; padding: 4px 8px;" id="address" class="input height-23" name="address" type="text" onkeyup="addressList(this)" placeholder="–ê–¥—Ä–µ—Å">
                                <list id="address_list" style="position:absolute; z-index:99999; background-color:#fff; left:0; top: 32px"></list>
                            </div>
                            <br>
                            <label class="font-weight-bold" for="description">–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏</label>
                            <textarea name="description" id="description" calss="task-description" style="border:none; width: 100%; height:250px; background-color: #ECECEC; resize:none; border-radius:4px; padding: 4px 8px;"></textarea>
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-secondary" data-dismiss="modal">–ó–∞–∫—Ä—ã—Ç—å</button>
                          <button type="button" class="btn btn-primary task-route" onclick="window.addTask()" data-dismiss="modal">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É</button>
                        </div>
                      </div>
                    </div>
                  </div>
            </div>
            <div class="col-md-6 attention-col" id="map">

            </div>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="https://api-maps.yandex.ru/2.1/?load=package.standard&lang=ru-RU&apikey=4280c083-e2dc-4345-b347-7a13d40bc5d2" type="text/javascript"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.js"></script>
    <script src="https://mdxv.store/templates/script/default.js"></script>
    <script src="/map/app3.js?v=1.1.1.3"></script>
  </body>
</html>